@use "../../styles/global";
@use "../../styles/mixin";

.repo-card {
	background-color: global.$background-color;
	border: 1px solid global.$border-color;
	border-radius: global.$border-radius;
	padding: global.$spacing-md;
	box-shadow: global.$shadow;
	transition: global.$transition;
	display: flex;
	flex-direction: column;
	gap: global.$spacing-sm;
	height: fit-content;
	position: relative;
	overflow: hidden;

	&:hover {
		box-shadow: global.$shadow-hover;
		transform: translateY(-2px);
		border-color: rgba(3, 102, 214, 0.3);
	}

	&:focus-within {
		outline: 2px solid global.$primary-color;
		outline-offset: 2px;
	}

	&-header {
		display: flex;
		flex-direction: column;
		gap: global.$spacing-xs;
		padding-bottom: global.$spacing-sm;
		border-bottom: 1px solid global.$border-color;
	}

	&-name {
		margin: 0;
		font-size: global.$font-size-lg;
		font-weight: global.$font-weight-bold;
		line-height: 1.3;

		a {
			color: global.$primary-color;
			text-decoration: none;
			transition: global.$transition;
			display: inline-flex;
			align-items: center;
			gap: global.$spacing-xs;

			&::after {
				content: 'â†’';
				font-size: 14px;
				opacity: 0.6;
				transition: global.$transition;
			}

			&:hover {
				color: global.$primary-hover;
				text-decoration: underline;
				text-decoration-thickness: 2px;
				text-underline-offset: 3px;

				&::after {
					opacity: 1;
					transform: translateX(2px) translateY(-2px);
				}
			}

			&:focus {
				outline: 2px solid global.$primary-color;
				outline-offset: 2px;
				border-radius: 4px;
			}
		}
	}

	&-owner {
		margin: 0;
		font-size: 14px;
		color: global.$text-secondary;
		font-weight: global.$font-weight-normal;
		
		a {
			color: global.$text-secondary;
			text-decoration: underline;
			// text-decoration: none;
			transition: global.$transition;
			border-radius: 4px;
			padding: 2px 4px;
			margin: -2px -4px;

			&:hover {
				color: global.$primary-color;
				background-color: rgba(3, 102, 214, 0.1);
			}

			&:focus {
				outline: 2px solid global.$primary-color;
				outline-offset: 1px;
			}
		}
	}

	&-description {
		margin: 0;
		color: global.$text-primary;
		font-size: global.$font-size-base;
		line-height: 1.5;
		flex-grow: 1;
		padding: global.$spacing-sm 0;
		overflow: hidden;
		min-height: calc(1.5em * 3);
	}

	&-stats {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		gap: global.$spacing-md;
		padding: global.$spacing-sm 0;
		border-top: 1px solid global.$border-color;
		font-size: 14px;

		.stat {
			display: inline-flex;
			align-items: center;
			gap: global.$spacing-xs;
			color: global.$text-secondary;
			font-weight: global.$font-weight-medium;
			transition: global.$transition;
			padding: 2px 0;

			&:hover {
				color: global.$text-primary;
			}
		}

		.language {
			display: inline-flex;
			align-items: center;
			gap: global.$spacing-xs;
			background-color: global.$surface-color;
			color: global.$text-primary;
			border-radius: 12px;
			font-size: 12px;
			font-weight: global.$font-weight-medium;
			border: 1px solid global.$border-color;
			padding: 4px 8px;
		}

		.updated-date {
			font-style: italic;
			opacity: 0.8;
		}
	}

	&-actions {
		display: flex;
		flex-direction: column;
		margin-top: auto;
		padding-top: global.$spacing-sm;
		border-top: 1px solid global.$border-color;

		.details-button {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			padding: global.$spacing-sm global.$spacing-md;
			background-color: global.$primary-color;
			color: white;
			text-decoration: none;
			border-radius: global.$border-radius;
			font-weight: global.$font-weight-medium;
			font-size: 14px;
			transition: global.$transition;
			min-height: 40px;
			text-align: center;

			&:hover {
				background-color: global.$primary-hover;
				transform: translateY(-1px);
				box-shadow: global.$shadow-hover;
			}

			&:focus {
				outline: 2px solid global.$primary-color;
				outline-offset: 2px;
			}

			&:active {
				transform: translateY(0);
				box-shadow: global.$shadow;
			}
		}

		.github-link {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			padding: global.$spacing-sm global.$spacing-md;
			background-color: transparent;
			color: global.$text-secondary;
			text-decoration: none;
			border: 2px solid global.$border-color;
			border-radius: global.$border-radius;
			font-weight: global.$font-weight-medium;
			font-size: 14px;
			transition: global.$transition;
			min-height: 40px;
			text-align: center;

			&:hover {
				background-color: global.$surface-color;
				color: global.$text-primary;
				border-color: global.$secondary-color;
			}

			&:focus {
				outline: 2px solid global.$primary-color;
				outline-offset: 2px;
			}
		}
	}
}